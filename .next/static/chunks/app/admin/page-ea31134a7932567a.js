(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{7468:function(e,t,s){Promise.resolve().then(s.bind(s,9789))},9789:function(e,t,s){"use strict";s.r(t);var i=s(7437),n=s(2749),a=s(4033),l=s(2265),c=s(5251),r=s(8980);t.default=()=>{var e,t,s;let{data:d,status:x}=(0,n.useSession)(),o=(0,a.useRouter)(),[m,h]=(0,l.useState)(null),[u,p]=(0,l.useState)(!0);(0,l.useEffect)(()=>{var e;if("loading"!==x){if(!d||(null===(e=d.user)||void 0===e?void 0:e.role)!=="ADMIN"){o.push("/auth/signin");return}y()}},[d,x,o]);let y=async()=>{try{let e=await fetch("/api/admin/stats");if(e.ok){let t=await e.json();h(t)}}catch(e){console.error("Error fetching stats:",e)}finally{p(!1)}};return"loading"===x||u?(0,i.jsx)("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,i.jsx)("div",{className:"spinner"})}):d&&(null===(e=d.user)||void 0===e?void 0:e.role)==="ADMIN"?(0,i.jsxs)("div",{className:"min-h-screen bg-cream-50",children:[(0,i.jsx)("section",{className:"bg-primary-800 text-white py-12",children:(0,i.jsx)("div",{className:"container-custom",children:(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,i.jsx)("h1",{className:"text-3xl md:text-4xl font-serif font-bold mb-4",children:"Bảng điều khiển quản trị"}),(0,i.jsxs)("p",{className:"text-xl opacity-90",children:["Ch\xe0o mừng, ",null===(t=d.user)||void 0===t?void 0:t.name]})]})})}),(0,i.jsxs)("div",{className:"container-custom py-8",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,i.jsx)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tổng đơn h\xe0ng"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:(null==m?void 0:m.totalOrders)||0})]}),(0,i.jsx)(r.x8h,{className:"text-3xl text-primary-600"})]})}),(0,i.jsx)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[(null==m?void 0:null===(s=m.totalRevenue)||void 0===s?void 0:s.toLocaleString("vi-VN"))||0,"đ"]})]}),(0,i.jsx)(r.oQC,{className:"text-3xl text-green-600"})]})}),(0,i.jsx)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Kh\xe1ch h\xe0ng"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:(null==m?void 0:m.totalCustomers)||0})]}),(0,i.jsx)(r.WY8,{className:"text-3xl text-blue-600"})]})}),(0,i.jsx)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"M\xf3n ăn"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==m?void 0:m.totalMenuItems)||0})]}),(0,i.jsx)(r.Gpi,{className:"text-3xl text-purple-600"})]})})]}),(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"card p-6 mb-8",children:[(0,i.jsx)("h2",{className:"text-xl font-serif font-bold text-primary-800 mb-4",children:"Thao t\xe1c nhanh"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("button",{className:"btn-primary flex items-center justify-center space-x-2 py-3",children:[(0,i.jsx)(r.zFh,{}),(0,i.jsx)("span",{children:"Quản l\xfd đơn h\xe0ng"})]}),(0,i.jsxs)("button",{className:"btn-outline flex items-center justify-center space-x-2 py-3",children:[(0,i.jsx)(r.Gpi,{}),(0,i.jsx)("span",{children:"Quản l\xfd thực đơn"})]}),(0,i.jsxs)("button",{className:"btn-outline flex items-center justify-center space-x-2 py-3",children:[(0,i.jsx)(r.WY8,{}),(0,i.jsx)("span",{children:"Quản l\xfd kh\xe1ch h\xe0ng"})]})]})]}),(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"card p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-serif font-bold text-primary-800 mb-4",children:"Đơn h\xe0ng gần đ\xe2y"}),(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,i.jsx)(r.TCC,{className:"text-4xl mx-auto mb-4"}),(0,i.jsx)("p",{children:"Chức năng n\xe0y sẽ được triển khai trong phi\xean bản tiếp theo"})]})]})]})]}):null}}},function(e){e.O(0,[342,232,971,938,744],function(){return e(e.s=7468)}),_N_E=e.O()}]);